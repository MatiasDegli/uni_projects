#include <xinu.h>

#define ASCII_ESC 27

int vel_a = 0;
int vel_b = 0;

int distancia;

corredor_a()
{
	while(1) {
		vel_a++;
	}

}

corredor_b()
{

	while(1) {
		vel_b++;
	}
}


muestra_carrera() 
{
	/* limpiar toda la pantalla */
	printf( "%c[2J", ASCII_ESC );

	while(1) {
		/* Nos posicionamos en la fila 5 columna 10 */
    		printf( "%c[5;10f", ASCII_ESC );
    		printf( "Velocidad corredor A: %d \n", vel_a);

		/* Nos posicionamos en la fila 6 columna 10 */
    		printf( "%c[6;10f", ASCII_ESC );
    		printf( "Velocidad corredor B: %d \n", vel_b);

		sleepms(50);
	}


}


control_race()
{

    pid32 pid_a = create(corredor_a, 1024, 20, "corredor_a", 0);
    pid32 pid_b = create(corredor_b, 1024, 20, "corredor_b", 0);
    pid32 pid_m = create(muestra_carrera, 1024, 20, "muestra", 0);

    resume(pid_m);
    resume(pid_a);
    resume(pid_b);

    int c, muerto = 0, suspendido = 0; // El num 1 se reserva para a, el 2 para b, el 3 para ambos 

    control(CONSOLE, TC_MODER, 0, 0);

    while(muertos < 2){

        switch ()
        {
        case 1:
            if(muerto)
            
            suspend(pid_a);
            
            break;
        
        default:
            break;
        }
    
    }
}